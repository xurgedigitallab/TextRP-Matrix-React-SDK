{"version":3,"file":"SettingsHandler.js","names":["SettingsHandler","constructor","_defineProperty2","default","exports"],"sources":["../../../src/settings/handlers/SettingsHandler.ts"],"sourcesContent":["/*\r\nCopyright 2017 Travis Ralston\r\nCopyright 2019, 2020 The Matrix.org Foundation C.I.C.\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n*/\r\n\r\nimport { WatchManager } from \"../WatchManager\";\r\n\r\n/**\r\n * Represents the base class for all level handlers. This class performs no logic\r\n * and should be overridden.\r\n */\r\nexport default abstract class SettingsHandler {\r\n    public readonly watchers?: WatchManager;\r\n\r\n    /**\r\n     * Gets the value for a particular setting at this level for a particular room.\r\n     * If no room is applicable, the roomId may be null. The roomId may not be\r\n     * applicable to this level and may be ignored by the handler.\r\n     * @param {string} settingName The name of the setting.\r\n     * @param {String} roomId The room ID to read from, may be null.\r\n     * @returns {*} The setting value, or null if not found.\r\n     */\r\n    public abstract getValue(settingName: string, roomId: string | null): any;\r\n\r\n    /**\r\n     * Sets the value for a particular setting at this level for a particular room.\r\n     * If no room is applicable, the roomId may be null. The roomId may not be\r\n     * applicable to this level and may be ignored by the handler. Setting a value\r\n     * to null will cause the level to remove the value. The current user should be\r\n     * able to set the value prior to calling this.\r\n     * @param {string} settingName The name of the setting to change.\r\n     * @param {String} roomId The room ID to set the value in, may be null.\r\n     * @param {*} newValue The new value for the setting, may be null.\r\n     * @returns {Promise} Resolves when the setting has been saved.\r\n     */\r\n    public abstract setValue(settingName: string, roomId: string | null, newValue: any): Promise<void>;\r\n\r\n    /**\r\n     * Determines if the current user is able to set the value of the given setting\r\n     * in the given room at this level.\r\n     * @param {string} settingName The name of the setting to check.\r\n     * @param {String} roomId The room ID to check in, may be null\r\n     * @returns {boolean} True if the setting can be set by the user, false otherwise.\r\n     */\r\n    public abstract canSetValue(settingName: string, roomId: string | null): boolean;\r\n\r\n    /**\r\n     * Determines if this level is supported on this device.\r\n     * @returns {boolean} True if this level is supported on the current device.\r\n     */\r\n    public abstract isSupported(): boolean;\r\n}\r\n"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACe,MAAeA,eAAe,CAAC;EAAAC,YAAA;IAAA,IAAAC,gBAAA,CAAAC,OAAA;EAAA;EAG1C;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EAGI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EAGI;AACJ;AACA;AACA;AACA;AACA;AACA;EAGI;AACJ;AACA;AACA;AAEA;AAACC,OAAA,CAAAD,OAAA,GAAAH,eAAA"}