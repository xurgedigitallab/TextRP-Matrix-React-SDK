{"version":3,"file":"ViewRoomPayload.js","names":[],"sources":["../../../src/dispatcher/payloads/ViewRoomPayload.ts"],"sourcesContent":["/*\r\nCopyright 2022 The Matrix.org Foundation C.I.C.\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n*/\r\n\r\nimport { MatrixEvent } from \"matrix-js-sdk/src/models/event\";\r\nimport { ViewRoom as ViewRoomEvent } from \"@matrix-org/analytics-events/types/typescript/ViewRoom\";\r\n\r\nimport { ActionPayload } from \"../payloads\";\r\nimport { Action } from \"../actions\";\r\nimport { IOOBData, IThreepidInvite } from \"../../stores/ThreepidInviteStore\";\r\nimport { IOpts } from \"../../createRoom\";\r\nimport { JoinRoomPayload } from \"./JoinRoomPayload\";\r\nimport { AtLeastOne } from \"../../@types/common\";\r\n\r\n/* eslint-disable camelcase */\r\ninterface BaseViewRoomPayload extends Pick<ActionPayload, \"action\"> {\r\n    action: Action.ViewRoom;\r\n\r\n    event_id?: string; // the event to ensure is in view if any\r\n    highlighted?: boolean; // whether to highlight `event_id`\r\n    scroll_into_view?: boolean; // whether to scroll `event_id` into view\r\n    should_peek?: boolean; // whether we should peek the room if we are not yet joined\r\n    joining?: boolean; // whether we have already sent a join request for this room\r\n    via_servers?: string[]; // the list of servers to join via if no room_alias is provided\r\n    context_switch?: boolean; // whether this view room was a consequence of switching spaces\r\n    replyingToEvent?: MatrixEvent; // the event we are replying to in this room if any\r\n    auto_join?: boolean; // whether to automatically join the room if we are not already\r\n    threepid_invite?: IThreepidInvite; // details about any 3pid invite we have to this room\r\n    justCreatedOpts?: IOpts; // if this is a newly created room then this is a reference to the creation opts\r\n    oob_data?: IOOBData; // any out-of-band data about this room can be used to render some room details without peeking\r\n    forceTimeline?: boolean; // Whether to override default behaviour to end up at a timeline\r\n    show_room_tile?: boolean; // Whether to ensure that the room tile is visible in the room list\r\n    clear_search?: boolean; // Whether to clear the room list search\r\n    view_call?: boolean; // Whether to view the call or call lobby for the room\r\n    opts?: JoinRoomPayload[\"opts\"];\r\n\r\n    deferred_action?: ActionPayload; // Action to fire after MatrixChat handles this ViewRoom action\r\n\r\n    // additional parameters for the purpose of metrics & instrumentation\r\n    metricsTrigger: ViewRoomEvent[\"trigger\"];\r\n    metricsViaKeyboard?: ViewRoomEvent[\"viaKeyboard\"];\r\n}\r\n\r\nexport type ViewRoomPayload = BaseViewRoomPayload &\r\n    AtLeastOne<{\r\n        // either or both of room_id or room_alias must be specified\r\n        // where possible, a room_id should be provided with a room_alias as it reduces\r\n        // the number of API calls required.\r\n        room_id?: string;\r\n        room_alias?: string;\r\n    }>;\r\n/* eslint-enable camelcase */\r\n"],"mappings":""}