{"version":3,"file":"Capabilities.js","names":["MatrixCapabilities","exports","StickerpickerCapabilities","StickerSending","VideoConferenceCapabilities","AlwaysOnScreen","isTimelineCapability","capability","startsWith","isTimelineCapabilityFor","roomId","concat","getTimelineRoomIDFromCapability","substring","indexOf"],"sources":["../../src/interfaces/Capabilities.ts"],"sourcesContent":["/*\n * Copyright 2020 - 2021 The Matrix.org Foundation C.I.C.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *         http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Symbols } from \"../Symbols\";\n\nexport enum MatrixCapabilities {\n    Screenshots = \"m.capability.screenshot\",\n    StickerSending = \"m.sticker\",\n    AlwaysOnScreen = \"m.always_on_screen\",\n    /**\n     * @deprecated It is not recommended to rely on this existing - it can be removed without notice.\n     * Ask Element to not give the option to move the widget into a separate tab.\n     */\n    RequiresClient = \"io.element.requires_client\",\n    /**\n     * @deprecated It is not recommended to rely on this existing - it can be removed without notice.\n     */\n    MSC2931Navigate = \"org.matrix.msc2931.navigate\",\n    MSC3846TurnServers = \"town.robin.msc3846.turn_servers\",\n    /**\n    * @deprecated It is not recommended to rely on this existing - it can be removed without notice.\n    */\n    MSC3973UserDirectorySearch = \"org.matrix.msc3973.user_directory_search\",\n}\n\nexport type Capability = MatrixCapabilities | string;\n\nexport const StickerpickerCapabilities: Capability[] = [MatrixCapabilities.StickerSending];\nexport const VideoConferenceCapabilities: Capability[] = [MatrixCapabilities.AlwaysOnScreen];\n\n/**\n * Determines if a capability is a capability for a timeline.\n * @param {Capability} capability The capability to test.\n * @returns {boolean} True if a timeline capability, false otherwise.\n */\nexport function isTimelineCapability(capability: Capability): boolean {\n    // TODO: Change when MSC2762 becomes stable.\n    return capability?.startsWith(\"org.matrix.msc2762.timeline:\");\n}\n\n/**\n * Determines if a capability is a timeline capability for the given room.\n * @param {Capability} capability The capability to test.\n * @param {string | Symbols.AnyRoom} roomId The room ID, or `Symbols.AnyRoom` for that designation.\n * @returns {boolean} True if a matching capability, false otherwise.\n */\nexport function isTimelineCapabilityFor(capability: Capability, roomId: string | Symbols.AnyRoom): boolean {\n    return capability === `org.matrix.msc2762.timeline:${roomId}`;\n}\n\n/**\n * Gets the room ID described by a timeline capability.\n * @param {string} capability The capability to parse.\n * @returns {string} The room ID.\n */\nexport function getTimelineRoomIDFromCapability(capability: Capability): string {\n    return capability.substring(capability.indexOf(\":\") + 1);\n}\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA,IAkBYA,kBAAkB,0BAAlBA,kBAAkB;EAAlBA,kBAAkB;EAAlBA,kBAAkB;EAAlBA,kBAAkB;EAAlBA,kBAAkB;EAAlBA,kBAAkB;EAAlBA,kBAAkB;EAAlBA,kBAAkB;EAAA,OAAlBA,kBAAkB;AAAA;AAAAC,OAAA,CAAAD,kBAAA,GAAAA,kBAAA;AAsBvB,IAAME,yBAAuC,GAAG,CAACF,kBAAkB,CAACG,cAAc,CAAC;AAACF,OAAA,CAAAC,yBAAA,GAAAA,yBAAA;AACpF,IAAME,2BAAyC,GAAG,CAACJ,kBAAkB,CAACK,cAAc,CAAC;;AAE5F;AACA;AACA;AACA;AACA;AAJAJ,OAAA,CAAAG,2BAAA,GAAAA,2BAAA;AAKO,SAASE,oBAAoBA,CAACC,UAAsB,EAAW;EAClE;EACA,OAAOA,UAAU,aAAVA,UAAU,uBAAVA,UAAU,CAAEC,UAAU,CAAC,8BAA8B,CAAC;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,uBAAuBA,CAACF,UAAsB,EAAEG,MAAgC,EAAW;EACvG,OAAOH,UAAU,oCAAAI,MAAA,CAAoCD,MAAM,CAAE;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACO,SAASE,+BAA+BA,CAACL,UAAsB,EAAU;EAC5E,OAAOA,UAAU,CAACM,SAAS,CAACN,UAAU,CAACO,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAC5D"}